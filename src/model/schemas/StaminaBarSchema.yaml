# JSON Schema in YAML format for Draw Steel Character Skills
$schema: https://json-schema.org/draft/2019-09/schema
$id: dse.stamina-bar.schema.json-1.0.0
title: Draw Steel Stamina Bar
description: Schema for validating Draw Steel stamina bar data

type: object
allOf:
  - $ref: dse.common-component-fields.schema.json-1.0.0
  - type: object
    required:
      - max_stamina
    errorMessage:
      required:
        max_stamina: "max_stamina is required - please specify the maximum stamina value for this stamina bar"
    properties:
      max_stamina:
        type: integer
        description: The amount of stamina that constitutes a full bar.
        errorMessage: max_stamina must be a whole, positive number.
        minimum: 0
      current_stamina:
        type: integer
        description: |
          The amount the bar should be filled relative to max_stamina.
          Clamped to be equal to or less than max_stamina.
        errorMessage: current_stamina must be a whole number.
      temp_stamina:
        type: integer
        description: |
          An amount of extra stamina in addition to current_stamina.
          If the take-damage feature is used, temp_stamina will be used first.
        errorMessage: temp_stamina must be a whole number.
      height:
        type: number
        description: |
          A multiplier for the thickness of the stamina bar.
          Only used with default style.
      style:
        type: string
        transform:
          - trim
          - toLowerCase
        enum:
          - default
          - sheet
        default: default
        description: |
          Selects what style of stamina bar to use.
          "Default" is the classic green bar.
          "Sheet" aims to mimic the style of the official character sheet.
    unevaluatedProperties:
      const: false
      errorMessage: |
        Stamina Bar object must not have extra properties.
        Allowed: max_stamina, current_stamina, temp_stamina, height, style.
